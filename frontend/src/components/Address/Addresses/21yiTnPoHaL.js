(function(d){var f=window.AmazonUIPageJS||window.P,n=f._namespace||f.attributeErrors,a=n?n("YourAccountAddressBookAssets",""):f;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,f,n){d.register("ya-myab-csm-utils",function(){return{incrementCounter:function(a){f.ue&&f.ue.count(a,(f.ue.count(a)||0)+1)},logCounter:function(a){f.ue&&f.ue.count(a,1)}}});"use strict";d.when("A","ready").execute(function(a){var b=a.$;d.register("ya-myab-url-utils",function(){function a(c){return(c=
b.param(c))?"?"+c:""}return{getUrlForPath:function(c,b){return f.location.protocol+"//"+f.location.host+c+a(b)},getReloadUrl:function(b){return f.location.protocol+"//"+f.location.host+f.location.pathname+a(b)}}})});"use strict";d.when("A","a-modal","ya-myab-csm-utils","ready").execute(function(a,b,g){var c=a.$;c("span[data-action\x3d'a-modal']").each(function(h,l){var e=c.parseJSON(c(l).attr("data-a-modal")).name,m=!1,k="none",f="none",d="none";if(e){h=e.split("-");if(h=a.state("address-reference-metadata-"+
h[h.length-1]))m=h.enabled,k=h.deleteBehavior,f=h.editBehavior,d=h.arfClientId;var q=b.get(l);c(document).delegate("#"+e+"-cancel-btn","click",function(a){a.preventDefault();m&&"SOFT_BLOCK"===k&&e.includes("deleteAddressModal")&&g.incrementCounter("ARF:CancelButtonClicks");"HARD_BLOCK"===k&&e.includes("deleteAddressModal")&&g.incrementCounter("ARF:HARD_BLOCK:"+d+":Delete:CancelButtonClicks");"HARD_BLOCK"===f&&e.includes("editAddressModal")&&g.incrementCounter("ARF:HARD_BLOCK:"+d+":Edit:CancelButtonClicks");
q.hide();return!1});c(document).delegate("#"+e+"-submit-btn","click",function(a){m&&g.incrementCounter("ARF:SubmitButtonClicks")})}})});"use strict";d.when("A","mash","ya-myab-csm-utils","ya-myab-url-utils","ready").execute(function(a,b,g,c){a.declarative("ya-myab-mash-navigate-to","click",function(a){var l=c.getUrlForPath(a.data.url,{});b.navstack.begin().modalOpen(l).end({successCallback:function(a){g.logCounter("YAMYABMashNavigateToSuccess")},failCallback:function(a){g.logCounter("YAMYABMashNavigateToFailure");
f.location.href=l}});a.$event.preventDefault()})});"use strict";d.when("A","mash","ya-myab-csm-utils","ya-myab-url-utils","ready").execute(function(a,b,g,c){var h=a.state("ya-myab-mash-back-to-state");a=a.state("ya-myab-kyc-mash-back-to-state");if(h){var l=c.getUrlForPath(h.backToPath,{});b.navstack.begin().modalClose().replace({url:l,method:"GET"}).end({successCallback:function(a){g.logCounter("YAMYABMashModalCloseSuccess")},failCallback:function(a){g.logCounter("YAMYABMashModalCloseFailure");f.location.href=
l}})}else if(a){var e=c.getUrlForPath(a.backToPath,{});b.navstack.begin().modalClose().forward({url:e,method:"GET"}).end({successCallback:function(a){g.logCounter("KYCMashModalCloseSuccess")},failCallback:function(a){g.logCounter("KYCMashModalCloseFailure");f.location.href=e}})}});"use strict";d.when("A","ya-myab-csm-utils","ready").execute(function(a,b){function g(a){var b="Unknown";switch(a){case "address-ui-widgets-enterAddressLine1":b="AddressLine1";break;case "address-ui-widgets-enterAddressLine2":b=
"AddressLine2";break;case "address-ui-widgets-enterAddressCity":b="City";break;case "address-ui-widgets-enterAddressStateOrRegion":b="StateOrRegion";break;case "address-ui-widgets-enterAddressPostalCode":b="PostalCode"}return b}var c=a.$;c("#address-ui-address-form").submit(function(){a.state.parse();var h=a.state("AddressWidgetsFormReload");if(h&&"UseMyLocation"===h.Operation){var d=a.state("UseMyLocationOriginalData"),e=[];a.each(d,function(a,b){e.push(b)});a.each(c("#address-ui-address-form").serializeArray(),
function(c,h){-1!==a.indexOfArray(e,c.name)&&(a.equals(d[c.name],c.value)||b.logCounter("UseMyLocationResultValueChanged:"+g(c.name)))})}})});"use strict";d.when("A","ready").execute(function(a){var b=a.$;b("form.set-address-default").click(function(){b(this).submit()})});"use strict";d.when("A","ya-myab-csm-utils","ready").execute(function(a,b){a.on("a:popover:ajaxFail:cdp-modal",function(a){b.logCounter("MYAB:CDP:MODAL:AJAX_FAIL")});a.on("a:popover:ajaxSuccess:cdp-modal",function(a){b.logCounter("MYAB:CDP:MODAL:AJAX_SUCCESS")});
a.on("a:popover:show:cdp-modal",function(a){b.logCounter("MYAB:CDP:MODAL:SHOW")});a.on("a:popover:hide:cdp-modal",function(a){b.logCounter("MYAB:CDP:MODAL:HIDE")})});"use strict";d.when("A","ya-myab-csm-utils","ready").execute(function(a,b){a.on("a:popover:ajaxFail:cdpSecondaryView",function(a){b.logCounter("MYAB:CDP:SECONDARY_VIEW:AJAX_FAIL")});a.on("a:popover:ajaxSuccess:cdpSecondaryView",function(a){b.logCounter("MYAB:CDP:SECONDARY_VIEW:AJAX_SUCCESS")});a.on("a:popover:show:cdpSecondaryView",function(g){b.logCounter("MYAB:CDP:SECONDARY_VIEW:SHOW");
a.$(".a-alert").addClass("aok-hidden")});a.on("a:popover:hide:cdpSecondaryView",function(a){b.logCounter("MYAB:CDP:SECONDARY_VIEW:HIDE")})});"use strict";d.when("A","ya-myab-csm-utils","ready").execute(function(a,b){function g(c){c=c.data.name;var g=!1,d="none",e="none",f="none";if(c){var k=c.split("-");if(k=a.state("address-reference-metadata-"+k[k.length-1]))g=k.enabled,d=k.deleteBehavior,e=k.editBehavior,f=k.arfClientId;g&&"SOFT_BLOCK"===d&&c.includes("deleteAddressModal")&&b.incrementCounter("ARF:DeleteLinkClicks");
"HARD_BLOCK"===d&&c.includes("deleteAddressModal")&&b.incrementCounter("ARF:HARD_BLOCK:"+f+":DeleteLinkClicks");e&&"HARD_BLOCK"===e&&c.includes("editAddressModal")&&b.incrementCounter("ARF:HARD_BLOCK:"+f+":EditLinkClicks")}}a.on("a:declarative:a-modal:click",g);a.on("a:declarative:a-sheet:click",g)});"use strict";d.when("A","a-sheet","ya-myab-csm-utils","ready").execute(function(a,b,g){var c=a.$;c("span[data-action\x3d'a-sheet']").each(function(d,f){var e=c.parseJSON(c(f).attr("data-a-sheet")).name,
m=!1,k="none",n="none",p="none";if(e){d=e.split("-");if(d=a.state("address-reference-metadata-"+d[d.length-1]))m=d.enabled,k=d.deleteBehavior,n=d.editBehavior,p=d.arfClientId;c(document).delegate("#"+e+"-cancel-btn","click",function(a){a.preventDefault();m&&"SOFT_BLOCK"===k&&e.includes("deleteAddressModal")&&g.incrementCounter("ARF:CancelButtonClicks");"HARD_BLOCK"===k&&e.includes("deleteAddressModal")&&g.incrementCounter("ARF:HARD_BLOCK:"+p+":Delete:CancelButtonClicks");"HARD_BLOCK"===n&&e.includes("editAddressModal")&&
g.incrementCounter("ARF:HARD_BLOCK:"+p+":Edit:CancelButtonClicks");b&&b.get(e).hide();return!1});c(document).delegate("#"+e+"-submit-btn","click",function(a){m&&g.incrementCounter("ARF:SubmitButtonClicks")});a.on("a:sheet:afterShow:"+e,function(a){var b=c("#"+e).innerHeight();a.sheet.changeHeight({height:b,duration:.3})})}})});"use strict";d.when("A","ya-myab-csm-utils","ready").execute(function(a,b){a.on("a:popover:ajaxFail:pomSecondaryView",function(a){b.logCounter("MYAB:POM:SECONDARY_VIEW:AJAX_FAIL")});
a.on("a:popover:ajaxSuccess:pomSecondaryView",function(a){b.logCounter("MYAB:POM:SECONDARY_VIEW:AJAX_SUCCESS")});a.on("a:popover:show:pomSecondaryView",function(d){b.logCounter("MYAB:POM:SECONDARY_VIEW:SHOW");a.$(".a-alert").addClass("aok-hidden")});a.on("a:popover:hide:pomSecondaryView",function(a){b.logCounter("MYAB:POM:SECONDARY_VIEW:HIDE")})})});